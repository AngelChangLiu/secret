<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ğŸŠğŸ’• Secret Portal</title>
  <style>
    :root{
      --pink1:#ff7eb3;
      --pink2:#ff4fa0;
      --pink3:#ff9ad0;
      --white:#ffffff;
      --glass: rgba(255,255,255,0.16);
      --glass2: rgba(255,255,255,0.10);
      --shadow: 0 18px 60px rgba(0,0,0,0.25);
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      min-height:100vh;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: radial-gradient(1200px 900px at 20% 10%, var(--pink3), transparent 60%),
                  radial-gradient(1200px 900px at 80% 90%, #ffd1ea, transparent 55%),
                  linear-gradient(135deg, var(--pink1), var(--pink2));
      color: var(--white);
      overflow:hidden;
    }

    .wrap{
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:24px;
      position:relative;
    }

    .card{
      width:min(720px, 94vw);
      border:1px solid rgba(255,255,255,0.25);
      background: linear-gradient(180deg, var(--glass), var(--glass2));
      backdrop-filter: blur(10px);
      border-radius: 22px;
      box-shadow: var(--shadow);
      padding: 26px 22px;
      text-align:center;
      position:relative;
      overflow:hidden;
    }

    h1{
      margin:0 0 8px;
      font-size: clamp(22px, 3vw, 34px);
      letter-spacing: 0.2px;
    }

    .sub{
      margin:0 0 16px;
      opacity:0.95;
      font-size: clamp(14px, 2vw, 18px);
      line-height: 1.45;
    }

    .croc{
      font-size: 20px;
      letter-spacing: 6px;
      margin: 8px 0 18px;
      opacity: 0.95;
      filter: drop-shadow(0 6px 12px rgba(0,0,0,0.18));
      user-select:none;
    }

    .row{
      display:flex;
      gap:10px;
      justify-content:center;
      flex-wrap:wrap;
      margin-top: 8px;
    }

    input{
      width: min(360px, 80vw);
      padding: 12px 14px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,0.35);
      background: rgba(255,255,255,0.20);
      color: white;
      outline:none;
      font-size: 16px;
      text-align:center;
    }
    input::placeholder{ color: rgba(255,255,255,0.85); }

    button{
      padding: 12px 16px;
      border-radius: 14px;
      border: 0;
      cursor:pointer;
      font-weight: 800;
      font-size: 16px;
      transition: transform .08s ease;
      user-select:none;
    }
    button:active{ transform: scale(0.98); }

    .btn{
      background: rgba(255,255,255,0.92);
      color: #b0125f;
    }

    .hint{
      margin-top: 12px;
      font-size: 14px;
      opacity: 0.92;
      min-height: 22px;
      padding: 0 10px;
    }

    /* scenes */
    .scene{ display:none; }
    .scene.active{ display:block; }

    /* fade transitions */
    .fade{
      animation: fadeIn 0.7s ease forwards;
    }
    .fadeOut{
      animation: fadeOut 0.7s ease forwards;
    }
    @keyframes fadeIn{
      from{ opacity:0; transform: translateY(6px); }
      to{ opacity:1; transform: translateY(0); }
    }
    @keyframes fadeOut{
      from{ opacity:1; transform: translateY(0); }
      to{ opacity:0; transform: translateY(-6px); }
    }

    /* hearts animation layer */
    #heartsLayer{
      position:fixed;
      inset:0;
      pointer-events:none;
      z-index: 3;
      display:none;
    }
    .heart{
      position:absolute;
      font-size: 18px;
      opacity:0;
      animation: floatHeart 3.2s ease-in forwards;
      filter: drop-shadow(0 10px 14px rgba(0,0,0,0.20));
    }
    @keyframes floatHeart{
      0%   { transform: translateY(0) scale(0.9); opacity:0; }
      15%  { opacity:0.95; }
      100% { transform: translateY(-140px) scale(1.25); opacity:0; }
    }

    /* movie screen buttons area */
    .movieBox{
      margin-top: 18px;
      position:relative;
      min-height: 130px;
    }
    .movieBtns{
      position:relative;
      height: 120px;
      margin-top: 10px;
    }
    #yesBtn{
      background:#ffffff;
      color:#b0125f;
      box-shadow: 0 12px 30px rgba(0,0,0,0.18);
    }
    #noBtn{
      position:absolute;
      left: 58%;
      top: 10px;
      background: rgba(255,255,255,0.75);
      color:#b0125f;
      box-shadow: 0 10px 24px rgba(0,0,0,0.14);
    }

    /* confetti canvas */
    #confetti{
      position:fixed;
      inset:0;
      pointer-events:none;
      z-index: 4;
      display:none;
    }

    .small{
      margin-top: 10px;
      font-size: 12px;
      opacity:0.82;
    }
  </style>
</head>

<body>
  <canvas id="confetti"></canvas>
  <div id="heartsLayer"></div>

  <div class="wrap">
    <div class="card">
      <!-- SCENE 1: CODE GATE -->
      <div id="sceneGate" class="scene active fade">
        <h1>Hello Michele Harianto ğŸ’•</h1>
        <div class="croc">ğŸŠ ğŸŠ ğŸŠ</div>
        <p class="sub">Please enter the code below ğŸŠ</p>

        <div class="row">
          <input id="codeInput" placeholder="enter secret code" autocomplete="off" />
          <button class="btn" id="enterBtn">Enter</button>
        </div>

        <div class="hint" id="gateHint"></div>
        <div class="small">ğŸŠğŸ’• (Ask me for the code)</div>
      </div>

      <!-- SCENE 2: MESSAGE -->
      <div id="sceneMessage" class="scene">
        <h1>ğŸŠğŸ’•</h1>
        <p class="sub" id="mainMessage" style="font-size:clamp(16px,2.2vw,20px);">
          Hey baby, I know we aren't talking right now. I had a lot of time to think michele but I want us to talk please?
        </p>
        <div class="small">Give me a secondâ€¦</div>
      </div>

      <!-- SCENE 3: MOVIE QUESTION -->
      <div id="sceneMovie" class="scene">
        <h1>Movie night? ğŸ¿ğŸŠ</h1>
        <p class="sub">Can you watch a movie tonight with me?</p>

        <div class="movieBox">
          <div class="movieBtns" id="btnArea">
            <button id="yesBtn">Yes ğŸ’š</button>
            <button id="noBtn">No ğŸ™ˆ</button>
          </div>
          <div class="hint" id="movieHint"></div>
        </div>

        <div class="small">ğŸŠğŸ’•</div>
      </div>
    </div>
  </div>

  <script>
    // =========================
    // CHANGE THIS SECRET CODE
    // =========================
    const SECRET_CODE = "1234"; // <-- change this to whatever you want

    // Elements
    const sceneGate = document.getElementById("sceneGate");
    const sceneMessage = document.getElementById("sceneMessage");
    const sceneMovie = document.getElementById("sceneMovie");

    const codeInput = document.getElementById("codeInput");
    const enterBtn  = document.getElementById("enterBtn");
    const gateHint  = document.getElementById("gateHint");

    const heartsLayer = document.getElementById("heartsLayer");

    const yesBtn = document.getElementById("yesBtn");
    const noBtn = document.getElementById("noBtn");
    const btnArea = document.getElementById("btnArea");
    const movieHint = document.getElementById("movieHint");

    // Gate logic
    function resetGate(messageText = ""){
      gateHint.textContent = messageText;
      codeInput.value = "";
      codeInput.focus();
      showScene(sceneGate);
    }

    function showScene(sceneEl){
      [sceneGate, sceneMessage, sceneMovie].forEach(s => {
        s.classList.remove("active","fade","fadeOut");
        s.style.display = "none";
      });
      sceneEl.style.display = "block";
      sceneEl.classList.add("active","fade");
    }

    function fadeToScene(fromEl, toEl){
      fromEl.classList.remove("fade");
      fromEl.classList.add("fadeOut");
      setTimeout(() => showScene(toEl), 650);
    }

    function checkCode(){
      const entered = (codeInput.value || "").trim();
      if(entered === SECRET_CODE){
        gateHint.textContent = "";
        startHearts();
        fadeToScene(sceneGate, sceneMessage);

        // After showing message for a moment, fade to movie question
        setTimeout(() => {
          fadeToScene(sceneMessage, sceneMovie);
        }, 3200);
      } else {
        // EXACT text you requested
        const msg = `I know I'm a stupid butt face, but please ask me for the code I promise it'll be worth it`;
        // Show message briefly, then reset to gate prompt
        gateHint.textContent = msg;
        setTimeout(() => resetGate(""), 2200);
      }
    }

    enterBtn.addEventListener("click", checkCode);
    codeInput.addEventListener("keydown", (e) => {
      if(e.key === "Enter") checkCode();
    });

    // Hearts animation
    let heartsTimer = null;
    function startHearts(){
      heartsLayer.style.display = "block";
      if(heartsTimer) clearInterval(heartsTimer);
      heartsTimer = setInterval(spawnHeart, 220);
      // keep them going through message + movie
      // (you can stop later if you want)
    }

    function spawnHeart(){
      const heart = document.createElement("div");
      heart.className = "heart";
      const hearts = ["ğŸ’—","ğŸ’–","ğŸ’•","ğŸ’","ğŸ’˜","ğŸ’"];
      heart.textContent = hearts[Math.floor(Math.random()*hearts.length)];

      const x = Math.random() * window.innerWidth;
      const y = window.innerHeight + 20;
      const size = 14 + Math.random() * 22;

      heart.style.left = `${x}px`;
      heart.style.top = `${y}px`;
      heart.style.fontSize = `${size}px`;

      heartsLayer.appendChild(heart);
      setTimeout(() => heart.remove(), 3400);
    }

    // No button "runs away"
    function moveNoButton(){
      const areaRect = btnArea.getBoundingClientRect();
      const btnRect = noBtn.getBoundingClientRect();

      const padding = 10;
      const maxX = areaRect.width - btnRect.width - padding;
      const maxY = areaRect.height - btnRect.height - padding;

      const newX = padding + Math.random() * Math.max(0, maxX - padding);
      const newY = padding + Math.random() * Math.max(0, maxY - padding);

      noBtn.style.left = `${newX}px`;
      noBtn.style.top  = `${newY}px`;
    }

    // Desktop hover
    noBtn.addEventListener("mouseenter", moveNoButton);
    // Mobile: if she taps it, it dodges too
    noBtn.addEventListener("touchstart", (e) => {
      e.preventDefault();
      moveNoButton();
    }, {passive:false});

    // Yes celebration
    yesBtn.addEventListener("click", () => {
      movieHint.textContent = "YAYYYY ğŸŠğŸ’š Iâ€™m so happy!!! What time tonight?";
      launchConfetti();
    });

    // Confetti (simple canvas)
    const confettiCanvas = document.getElementById("confetti");
    const ctx = confettiCanvas.getContext("2d");
    let confettiPieces = [];
    let confettiAnim = null;

    function resizeCanvas(){
      confettiCanvas.width = window.innerWidth;
      confettiCanvas.height = window.innerHeight;
    }
    window.addEventListener("resize", resizeCanvas);
    resizeCanvas();

    function launchConfetti(){
      confettiCanvas.style.display = "block";
      confettiPieces = [];

      const count = 180;
      for(let i=0;i<count;i++){
        confettiPieces.push({
          x: Math.random()*confettiCanvas.width,
          y: -20 - Math.random()*confettiCanvas.height*0.3,
          r: 2 + Math.random()*4,
          vx: -1.5 + Math.random()*3,
          vy: 2 + Math.random()*5,
          rot: Math.random()*Math.PI,
          vr: -0.15 + Math.random()*0.3
        });
      }

      const start = performance.now();
      const duration = 2600;

      if(confettiAnim) cancelAnimationFrame(confettiAnim);

      function tick(now){
        const t = now - start;
        ctx.clearRect(0,0,confettiCanvas.width, confettiCanvas.height);

        // draw little white confetti dots (keeps your pink theme + white text look)
        ctx.fillStyle = "rgba(255,255,255,0.95)";

        for(const p of confettiPieces){
          p.x += p.vx;
          p.y += p.vy;
          p.rot += p.vr;

          ctx.beginPath();
          ctx.arc(p.x, p.y, p.r, 0, Math.PI*2);
          ctx.fill();
        }

        // remove offscreen
        confettiPieces = confettiPieces.filter(p => p.y < confettiCanvas.height + 30);

        if(t < duration){
          confettiAnim = requestAnimationFrame(tick);
        } else {
          ctx.clearRect(0,0,confettiCanvas.width, confettiCanvas.height);
          confettiCanvas.style.display = "none";
        }
      }

      confettiAnim = requestAnimationFrame(tick);
    }

    // Auto-focus input on load
    window.addEventListener("load", () => codeInput.focus());
  </script>
</body>
</html>
